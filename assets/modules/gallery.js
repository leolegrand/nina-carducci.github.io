export const createGallery=e=>{const t=document.body.querySelector("#tags"),n=document.body.querySelector("#gallery"),o=[];n.innerHTML="",e.map((e=>{-1===o.indexOf(e.tag)&&(o.push(e.tag),t.innerHTML+=`<li><button tabindex="4">${e.tag}</button></li>`),n.innerHTML+=`<img tabindex="5" width="600" height="600" srcset="${e.imageUrl}?w=360 320w, ${e.imageUrl}?w=575 640w, ${e.imageUrl}?w=900 1024w" src="${e.imageUrl}?w=900"  alt="${e.altText}" data-tag="${e.tag}">`}));const l=document.body.querySelectorAll("#tags button"),d=document.body.querySelectorAll("#gallery img");l.forEach((e=>{e.addEventListener("click",(()=>{if("Tous"===e.innerHTML)return c(),e.classList.add("active-tag"),void a();d.forEach((t=>{t.dataset.tag===e.innerHTML?(c(),e.classList.add("active-tag"),t.classList.remove("hidden")):t.classList.add("hidden")}))}))}));const c=()=>{document.body.querySelectorAll(".active-tag").forEach((e=>e.classList.remove("active-tag")))},a=()=>{document.body.querySelectorAll(".hidden").forEach((e=>e.classList.remove("hidden")))};d.forEach((e=>{e.addEventListener("click",(()=>i(e)))}));const i=e=>{document.body.style.height="100vh",document.body.style.overflowY="hidden";const t='<?xml version="1.0" encoding="iso-8859-1"?>\n    \x3c!-- Uploaded to: SVG Repo, www.svgrepo.com, Generator: SVG Repo Mixer Tools --\x3e\n    <svg  width="5vw" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" \n         viewBox="0 0 185.343 185.343" xml:space="preserve">\n    <g>\n        <g>\n            <path style="fill:#010002;" d="M51.707,185.343c-2.741,0-5.493-1.044-7.593-3.149c-4.194-4.194-4.194-10.981,0-15.175\n                l74.352-74.347L44.114,18.32c-4.194-4.194-4.194-10.987,0-15.175c4.194-4.194,10.987-4.194,15.18,0l81.934,81.934\n                c4.194,4.194,4.194,10.987,0,15.175l-81.934,81.939C57.201,184.293,54.454,185.343,51.707,185.343z"/>\n        </g>\n    </g>\n    </svg>',n=document.createElement("dialog");n.classList.add("lightbox");const o=document.createElement("button");o.classList.add("lightbox__button","lightbox__button--prev");const l=document.createElement("button");l.classList.add("lightbox__button","lightbox__button--next");const d=document.createElement("span");d.innerHTML=t;const c=document.createElement("span");c.innerHTML=t,o.appendChild(c),l.appendChild(d);const a=document.createElement("img");a.src=e.src,a.alt=e.alt,n.appendChild(a),n.appendChild(o),n.appendChild(l),document.body.appendChild(n),n.showModal();const i=document.body.querySelectorAll("#gallery img:not(.hidden)"),s=Array.from(i);let r=s.indexOf(e);const g=()=>{r--,r<0&&(r=s.length-1),a.src=s[r].src,a.alt=s[r].alt},m=()=>{r++,r>=s.length&&(r=0),a.src=s[r].src,a.alt=s[r].alt};o.addEventListener("click",g),l.addEventListener("click",m),document.addEventListener("keydown",(e=>{"ArrowRight"===e.key?m():"ArrowLeft"===e.key&&g()}));const h=e=>{e.classList.add("lightbox-close"),setTimeout((()=>{e.close(),e.remove()}),300),document.body.style.height="",document.body.style.overflowY=""};document.addEventListener("keydown",(e=>{"Escape"===e.key&&(e.preventDefault(),h(n))})),n.addEventListener("click",(function(e){let t=n.getBoundingClientRect();t.top<=e.clientY&&e.clientY<=t.top+t.height&&t.left<=e.clientX&&e.clientX<=t.left+t.width||h(n)}))}};
